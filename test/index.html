<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>å°åŒ—ä¸€å€ä¸Šç­å°åŠ©æ‰‹</title>

<link rel="manifest" href="manifest.json">

<link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
<link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="å°åŒ—ä¸€å€ä¸Šç­å°åŠ©æ‰‹">

<style>
:root{
  --primary: #FFB7C5;      /* æµªæ¼«æ«»ç²‰ */
  --primary-dark: #00A0E9; /* å“†å•¦è— */
  --secondary: #FFF5F7;    /* æ¥µæ·ºç²‰èƒŒæ™¯ */
  --border: #EFC1C9;       /* æŸ”ç²‰é‚Šæ¡† */
  --bg: #FFFBFC;           /* æº«æš–ç²‰ç™½åº•è‰² */

  --btn-generate: #FFB7C5; /* ç²‰è‰²æŒ‰éˆ• */
  --btn-copy: #F9D01B;     /* éˆ´éºé‡‘æŒ‰éˆ• */
  --card-bg: #FFFFFF;      /* ç´”ç™½å¡ç‰‡ */
}

*,*::before,*::after{ box-sizing:border-box; }

body{
  font-family:-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
  margin:0;
  padding:14px 14px 90px;
  background: var(--bg);
  display:flex;
  justify-content:center;
  color:#003366; /* å“†å•¦æ·±è—å¢¨è‰²æ–‡å­— */
  overflow-x:hidden;
}


.container{
  width:100%;
  max-width:520px;
  margin-left:auto;
  margin-right:auto;
}

/* ğŸ§§ æ¨™é¡Œé…ç½® */
h1 { 
  text-align: center; 
  margin: 10px 0 5px; 
  font-size: 24px; 
  font-weight: 700;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px; 
  color: var(--primary-dark);
}

h1::before {
  content: "";
  display: block;
  width: 35px;
  height: 35px;
  background: url("bell.png") no-repeat center; /* ä»»æ„é–€ */
  background-size: contain;;
  flex-shrink: 0;
}

h1::after {
  content: "";
  display: block;
  width: 35px;
  height: 35px;
  background: url("bell.png") no-repeat center; /* éˆ´éº */
  background-size: contain;
  flex-shrink: 0;
}

.subtitle{ text-align:center; font-size:13px; color:#3D1B1B; margin-bottom:8px; }

/* ğŸ”¹ åˆ†é æ¨™ç±¤ */
.tab-header{
  display:flex;
  gap:8px;
  margin-bottom:10px;
}

.tab-header button{
  flex:1;
  padding:8px 0;
  border-radius:20px;
  border:1px solid var(--border);
  background:#fff;
  font-size:14px;
  color: #8B4513;
  cursor: pointer;
}

.tab-header button.active{
  background:var(--primary);
  color:#fff;
  border-color:var(--primary);
}

.section{
  background: var(--card-bg);
  border-radius:14px;
  border:1px solid var(--border);
  padding:14px;
  margin-bottom:12px;
  overflow:visible;
  position:relative;
  box-shadow: 0 2px 8px rgba(138, 154, 91, 0.1);
}

.section::before {
  content: "";
  position: absolute;
  top: -53px;
  left: -45px;
  width: 60px;
  height: 60px;
  background-image: url("bamboo-copter.png"); /* ç«¹èœ»èœ“ */
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  z-index: 10;
  pointer-events: none;
  transform: rotate(-35deg);
}

.section h2{ margin:0 0 8px; font-size:16px; font-weight:700; color: var(--primary-dark); }

label{ display:block;font-size:14px;margin-top:4px; color: #4A5A3B; }

input,select{
  width:100%;
  padding:10px; font-size:16px;
  margin-top:4px; margin-bottom:10px;
  border-radius:10px; border:1px solid var(--border);
  background:#fff;
  color: #333;
}

input:focus, select:focus{
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(138, 154, 91, 0.2);
}

textarea{
  width:100%; height:200px; padding:10px;
  font-size:15px; border-radius:10px;
  border:1px solid var(--border);
  background: #fff;
}

.actions{
  position:fixed;left:0;right:0;bottom:0;
  padding:10px 14px 12px;background:rgba(255,255,255,0.9);
  display:flex;gap:10px;border-top:1px solid var(--border);
  backdrop-filter:blur(10px);
  z-index:50;
}

button{
  padding:12px 0;
  border-radius:26px;
  border:none;
  font-size:16px;
  font-weight:600;
  cursor: pointer;
  transition: transform 0.1s;
}
button:active { transform: scale(0.98); }

.btn-primary{
  flex:1;
  background:var(--btn-generate);
  color:#fff;
}

.btn-secondary{
  flex:1;
  background:var(--btn-copy);
  color:#fff;
}

/* =============== ğŸƒ Leaf Animation =============== */
.leaves {
  pointer-events:none;
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  overflow:hidden;
  z-index:30;
}

.leaves span {
  position:absolute;
  top:-20px;
  display:block;
  font-size: 14px;
  animation: leafFall 10s linear infinite;
  opacity: 0;
}

@keyframes leafFall {
  0%   { transform: translate(0, 0) rotate(0deg); opacity: 0; }
  10%  { opacity: 0.8; }
  90%  { opacity: 0.8; }
  100% { transform: translate(100px, 105vh) rotate(360deg); opacity: 0; }
}

.leaves span:nth-child(1){ left:10%; animation-duration: 8s; animation-delay: 0s; }
.leaves span:nth-child(2){ left:25%; animation-duration: 12s; animation-delay: 2s; }
.leaves span:nth-child(3){ left:40%; animation-duration: 10s; animation-delay: 4s; }
.leaves span:nth-child(4){ left:60%; animation-duration: 9s; animation-delay: 1s; }
.leaves span:nth-child(5){ left:80%; animation-duration: 11s; animation-delay: 5s; }
.leaves span:nth-child(6){ left:95%; animation-duration: 13s; animation-delay: 3s; }

.hidden{ display:none; }

.badge{
  display:inline-block;
  margin-left:6px;
  padding:2px 8px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
}
.badge.green{ background:#E8F0E3; color:#4F6F41; }
.badge.yellow{ background:#FFF7E1; color:#8A6D3B; }
.badge.red{ background:#FBEAEA; color:#A94442; }

.huddle-row{ display:flex; justify-content:space-between; align-items:center; margin-top:8px; font-size:14px; }
.huddle-separator{ height:1px; background:var(--border); margin:12px 0; opacity:0.5; }
.check-row{ display:flex; justify-content:space-between; align-items:flex-start; margin-top:10px; font-size:14px; }

.footer-character {
  position: absolute;
  right: 10px;
  bottom: -30px;
  width: 320px;
  height: auto;
  opacity: 0.5;
  z-index: 5;
  pointer-events: none;
  filter: drop-shadow(2px 2px 5px rgba(0,0,0,0.1));
}

.section:last-of-type {
  overflow: visible !important;
}

@media (max-width: 400px) {
  .footer-character {
    width: 80px;
    right: -5px;
    bottom: -15px;
  }
}
#date {
  width: 94%;
  display: block;
}
</style>
</head>

<body>
<div class="container">

<h1>å°åŒ—ä¸€å€ä¸Šç­å°åŠ©æ‰‹</h1>
<p class="subtitle">è¼¸å…¥æ•¸å­— â†’ ç”¢ç”Ÿè¨Šæ¯ â†’ è¤‡è£½è²¼åˆ°ä¼æ¥­å¾®ä¿¡ç¾¤çµ„</p>

<header class="tab-header">
  <button id="tab-huddle" type="button">ä»Šæ—¥æª¢è¦–</button>
  <button id="tab-report" type="button" class="active">æ¯æ—¥å›å ±</button>
  <button id="tab-plan" type="button">ç•¶æœˆè¨ˆç•«</button>
</header>

<section id="huddle-view" class="section hidden">
  <h2>ä»Šæ—¥ç›®æ¨™</h2>
  <div class="huddle-row">
    <span class="huddle-label">ä»Šæ—¥é ç´„æ•¸</span>
    <span class="huddle-value"><span id="huddleTodayBooking">-</span> ä½</span>
  </div>
  <div class="huddle-row">
    <span class="huddle-label">é‚€ç´„è©¦æˆ´ç›®æ¨™æ•¸</span>
    <span class="huddle-value"><span id="huddleTodayTrial">-</span> ä½</span>
  </div>
  <div class="huddle-separator"></div>
  <div class="huddle-row">
    <span class="huddle-label">ä»Šæ—¥å¤–æ’¥ç›®æ¨™æ•¸</span>
    <span class="huddle-value"><span id="huddleTodayCallTotal">-</span> é€š</span>
  </div>
  <div class="huddle-row">
    <span class="huddle-label">é‚€ç´„å›åº—ç›®æ¨™æ•¸</span>
    <span class="huddle-value"><span id="huddleTodayOld3Y">-</span> ä½</span>
  </div>
  <div class="huddle-separator"></div>
  <h2>æ˜¨æ—¥åŸ·è¡Œæª¢è¦–</h2>
  <div class="check-row">
    <span class="check-label">è©¦æˆ´æ•¸</span>
    <span class="check-value" id="checkTrialText">-</span>
  </div>
  <div class="check-row">
    <span class="check-label">å¤–æ’¥é€šæ•¸</span>
    <span class="check-value" id="checkCallText">-</span>
  </div>
  <div class="check-row">
    <span class="check-label">é‚€ç´„å›åº—æ•¸</span>
    <span class="check-value" id="checkInviteText">-</span>
  </div>
  <div class="check-row">
    <span class="check-label">é‚€ç´„æˆåŠŸç‡</span>
    <span class="check-value">
      <span id="checkInviteRateText">-</span>
      <span class="badge" id="checkInviteRateBadge" style="display:none;"></span>
    </span>
  </div>
</section>

<section id="plan-view" class="section hidden">
  <h2>å€‹äººæœˆåº¦è¡Œå‹•è¨ˆç•«</h2>
  <label for="plan-name-select">è«‹é¸æ“‡å§“åï¼š</label>
  <select id="plan-name-select">
    <option value="">-- è«‹é¸æ“‡ --</option>
  </select>
  <div id="plan-list-container" style="margin-top: 15px;">
    <p style="text-align:center; color:#999; font-size:14px;">è«‹é¸æ“‡å§“åä»¥æŸ¥çœ‹è¨ˆç•«</p>
  </div>
</section>

<div id="report-view">
  <div class="section">
    <h2>åŸºæœ¬è³‡è¨Š</h2>
    <label>æ—¥æœŸï¼š <input type="date" id="date"></label>
    <label>åº—åï¼š <input type="text" id="store" placeholder="ä¾‹ï¼šç«™å‰"></label>
    <label>å§“åï¼š
    <select id="name">
      <option value="">è«‹é¸æ“‡åŒä»å§“å</option>
      <option>éƒ­å­Ÿé‘«</option><option>é™³è©©æ½”</option><option>æ¸¸ç‘Ÿç„„</option>
      <option>é­é æ©</option><option>æå­Ÿé¦¨</option><option>åŠ‰ç‘‹å©·</option>
      <option>å‘¨æ›‰ç„</option><option>è•­ç´”è¿</option><option>é™³å®›å¦¤</option>
      <option>æ—å¯“è‘³</option><option>å³æ¬£ç®</option><option>å‘‚æ¡‚æ¢…</option>
      <option>è”¡ç§‰å¿»</option>
    </select>
    </label>
  </div>

  <div class="section">
    <h2>1. ä»Šæ—¥å¤–æ’¥</h2>
    <label>æ½›å®¢å¤–æ’¥é€šæ•¸ï¼š<input type="number" id="todayCallPotential" inputmode="numeric" oninput="recalcTotals()"></label>
    <label>éä¿èˆŠå®¢å¤–æ’¥é€šæ•¸ï¼š<input type="number" id="todayCallOld3Y" inputmode="numeric" oninput="recalcTotals()"></label>
    <label>ä»Šæ—¥å¤–æ’¥ç¸½é€šæ•¸ï¼š<input type="number" id="todayCallTotal" readonly></label>
    <label>æˆåŠŸé‚€ç´„å›åº—äººæ•¸ï¼š<input type="number" id="todayInviteReturn" inputmode="numeric"></label>
  </div>

  <div class="section">
    <h2>2. ä»Šæ—¥é ç´„</h2>
    <label>ä»Šæ—¥é ç´„ç¸½æ•¸ï¼š<input type="number" id="todayBookingTotal" inputmode="numeric"></label>
    <div id="todayBookingHint" style="font-size:12px;color:#96162C;margin-top:4px;display:none;">
      ï¼ˆå·²å¸¶å…¥æ˜¨æ—¥å¡«å¯«çš„ã€Œæ˜æ—¥å·²æ’é ç´„ã€ï¼š<span id="todayBookingHintValue"></span> ä½ï¼‰
    </div>
  </div>

  <div class="section">
    <h2>3. ä»Šæ—¥åˆ°åº—</h2>
    <label>ä»Šæ—¥åˆ°åº—ç¸½æ•¸ï¼š<input type="number" id="todayVisitTotal" inputmode="numeric"></label>
    <label>è©¦ç”¨ HAï¼š<input type="number" id="trialHA" inputmode="numeric"></label>
    <label>è©¦ç”¨ APAPï¼š<input type="number" id="trialAPAP" inputmode="numeric"></label>
    <label>æˆäº¤ HAï¼š<input type="number" id="dealHA" inputmode="numeric"></label>
    <label>æˆäº¤ APAPï¼š<input type="number" id="dealAPAP" inputmode="numeric"></label>
  </div>

  <div class="section">
    <h2>4. æ˜æ—¥å·²æ’é ç´„</h2>
    <label>æ˜æ—¥é ç´„ç¸½æ•¸ï¼š<input type="number" id="tomorrowBookingTotal" inputmode="numeric"></label>
  </div>

  <div class="section">
    <h2>5. æ˜æ—¥ KPI</h2>
    <label>å¤–æ’¥ç›®æ¨™é€šæ•¸ï¼š<input type="number" id="tomorrowKpiCallTotal" inputmode="numeric"></label>
    <label>é‚€ç´„å›åº—ç›®æ¨™æ•¸ (ä½)ï¼š<input type="number" id="tomorrowKpiCallOld3Y" inputmode="numeric"></label>
    <label>å®ŒæˆHA/APAPè©¦æˆ´ç›®æ¨™ (ä½)ï¼š<input type="number" id="tomorrowKpiTrial" inputmode="numeric"></label>
  </div>

  <div class="section">
    <textarea id="output" placeholder="æŒ‰ä¸‹ã€ç”¢ç”Ÿè¨Šæ¯ã€å¾Œæ–‡å­—æœƒå‡ºç¾åœ¨é€™è£¡"></textarea>
    <img src="dora-sakura-1.png" class="footer-character" alt="decoration">
  </div>
</div>

</div> <div class="actions">
<button class="btn-primary" onclick="generateMessage()">ğŸ¡ ç”¢ç”Ÿè¨Šæ¯</button>
<button class="btn-secondary" onclick="copyMessage()">ğŸŒ¸ è¤‡è£½æ–‡å­—</button>
</div>

<div class="leaves">
  <span>ğŸŒ¸</span><span>ğŸŒ¸</span><span>ğŸŒ¸</span><span>ğŸŒ¸</span><span>ğŸŒ¸</span><span>ğŸŒ¸</span>
</div>

<script src="app.js?v=11"></script>

</body>
</html>
