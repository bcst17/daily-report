<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>科林門市每日回報</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<link rel="manifest" href="manifest.json">

<!-- iOS ICON（確保新安裝看到新logo） -->
<link rel="apple-touch-icon" sizes="192x192" href="icon-192-v2.png">
<link rel="apple-touch-icon" sizes="512x512" href="icon-512-v2.png">

<style>
:root{
  --primary:#f4a300;
  --border:#e0e0e0;
  --bg:#f6f6f8;
}

*, *::before, *::after {
  box-sizing: border-box;
}

body{
  font-family:-apple-system,system-ui,sans-serif;
  margin:0;padding:12px 12px 70px;
  background:var(--bg);
  display:flex;justify-content:center;
}

.container{max-width:520px;width:100%;}

.section{
  background:#fff;padding:12px 14px;margin-bottom:10px;
  border-radius:12px;border:1px solid var(--border);
}

.section h2{margin:0 0 8px;font-size:15px;font-weight:600;}

input[type="number"],input[type="text"],input[type="date"],select{
  width:100%;padding:8px 10px;font-size:15px;
  border-radius:8px;border:1px solid var(--border);
  margin-top:4px;margin-bottom:10px;
  -webkit-appearance:none;
}

textarea{
  width:100%;height:210px;border-radius:10px;padding:10px;
  border:1px solid var(--border);font-size:15px;
  resize:vertical;
}

.actions{
  position:fixed;left:0;right:0;bottom:0;padding:10px;
  background:#ffffffee;backdrop-filter:blur(6px);
  display:flex;gap:10px;justify-content:center;
  border-top:1px solid var(--border);
}

button{
  flex:1;padding:12px 0;font-size:16px;font-weight:600;
  border-radius:25px;border:none;cursor:pointer;
}

.btn-primary{background:var(--primary);color:#fff;}
.btn-second{background:#fff;border:1px solid var(--primary);color:#333;}

</style>
</head>


<body>
<div class="container">

<h1 style="text-align:center;margin:6px 0 2px;">科林門市每日回報</h1>
<p style="text-align:center;font-size:13px;color:#666;margin-bottom:10px;">輸入數字 → 產生訊息 → 貼企業微信群組</p>



<!-- ＝＝＝＝＝ 基本資訊 ＝＝＝＝＝ -->
<div class="section">
<h2>基本資訊</h2>

<label>日期：
<input type="date" id="date">
</label>

<label>店名：
<input type="text" id="store" placeholder="例：站前">
</label>

<label>姓名：
<select id="name">
  <option value="">選擇同仁</option>
  <option>郭孟鑫</option><option>陳詩潔</option><option>游瑟焄</option>
  <option>魏頎恩</option><option>李孟馨</option><option>劉瑋婷</option>
  <option>林瑀婕</option><option>周曉玄</option><option>蕭純聿</option>
  <option>陳宛妤</option><option>王靖雅</option><option>林寓葳</option>
  <option>吳欣珮</option><option>呂桂梅</option>
</select>
</label>
</div>



<!-- ＝＝＝＝＝ 1. 今日外撥 ＝＝＝＝＝ -->
<div class="section">
<h2>1. 今日外撥</h2>

<label>潛客外撥通數：
<input type="number" id="todayCallPotential" inputmode="numeric" oninput="recalcTotals()">
</label>

<label>過保舊客外撥通數：
<input type="number" id="todayCallOld3Y" inputmode="numeric" oninput="recalcTotals()">
</label>

<label>今日外撥總通數：
<input type="number" id="todayCallTotal" readonly style="background:#f2f2f2;">
</label>
</div>



<!-- ＝＝＝＝＝ 2. 今日預約 ＝＝＝＝＝ -->
<div class="section">
<h2>2. 今日預約</h2>
<label>今日預約總數：
<input type="number" id="todayBookingTotal" inputmode="numeric">
</label>
</div>



<!-- ＝＝＝＝＝ 3. 今日到店 ＝＝＝＝＝ -->
<div class="section">
<h2>3. 今日到店</h2>

<label>今日到店總數：
<input type="number" id="todayVisitTotal" inputmode="numeric">
</label>

<label>試用 HA：
<input type="number" id="trialHA" inputmode="numeric">
</label>

<label>試用 APAP：
<input type="number" id="trialAPAP" inputmode="numeric">
</label>

<label>成交 HA：
<input type="number" id="dealHA" inputmode="numeric">
</label>

<label>成交 APAP：
<input type="number" id="dealAPAP" inputmode="numeric">
</label>
</div>



<!-- ＝＝＝＝＝ 4. 明日預約 ＝＝＝＝＝ -->
<div class="section">
<h2>4. 明日已排預約</h2>
<label>明日預約總數：
<input type="number" id="tomorrowBookingTotal" inputmode="numeric">
</label>
</div>



<!-- ＝＝＝＝＝ 5. 明日 KPI ＝＝＝＝＝ -->
<div class="section">
<h2>5. 明日KPI</h2>

<label>外撥目標通數：
<input type="number" id="tomorrowKpiCallTotal" inputmode="numeric">
</label>

<label>舊客預約目標(位)：
<input type="number" id="tomorrowKpiCallOld3Y" inputmode="numeric">
</label>

<label>完成試戴目標(位)：
<input type="number" id="tomorrowKpiTrial" inputmode="numeric">
</label>

</div>



<div class="section">
<textarea id="output" placeholder="產生後會顯示在此處..."></textarea>
</div>



</div>


<!-- ＝＝＝＝＝ 產生/複製 按鈕 ＝＝＝＝＝ -->
<div class="actions">
<button class="btn-primary" onclick="generateMessage()">產生訊息</button>
<button class="btn-second" onclick="copyMessage()">複製文字</button>
</div>



<script>
// ★ 今日外撥自動加總（潛客+過保舊客）
function recalcTotals(){
 let total = getNum("todayCallPotential") + getNum("todayCallOld3Y");
 document.getElementById("todayCallTotal").value = total>0?total:"";
}

function getNum(id){
 let v=parseInt(document.getElementById(id).value);return isNaN(v)?0:v;
}


// ★ 產生主管新版格式訊息
function generateMessage(){
 const date=document.getElementById("date").value.replaceAll("-","/")||"____/__/__";
 const store=document.getElementById("store").value||"門市";
 const name=document.getElementById("name").value||"姓名";

 const t=
`${date}｜${store} ${name}
1. 今日外撥：${getNum("todayCallTotal")} 通（潛在 ${getNum("todayCallPotential")} 通、過保舊客 ${getNum("todayCallOld3Y")} 通）
2. 今日預約：${getNum("todayBookingTotal")} 位
3. 今日到店：${getNum("todayVisitTotal")} 位
   試用：HA ${getNum("trialHA")} 位、APAP ${getNum("trialAPAP")} 位
   成交：HA ${getNum("dealHA")} 位、APAP ${getNum("dealAPAP")} 位
4. 明日已排預約：${getNum("tomorrowBookingTotal")} 位
5. 明日KPI:
   外撥 ${getNum("tomorrowKpiCallTotal")} 通
   舊客預約 ${getNum("tomorrowKpiCallOld3Y")} 位
   完成 ${getNum("tomorrowKpiTrial")} 個試戴`;

 document.getElementById("output").value=t;
}

// ★ 複製功能
function copyMessage(){
 const o=document.getElementById("output");
 o.select();o.setSelectionRange(0,99999);
 document.execCommand("copy");
 alert("已複製，貼到企業微信即可！");
}
</script>

</body>
</html>