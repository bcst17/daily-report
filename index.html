<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>å°åŒ—ä¸€å€ä¸Šç­å°åŠ©æ‰‹</title>

<link rel="manifest" href="manifest.json">

<link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
<link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="å°åŒ—ä¸€å€ä¸Šç­å°åŠ©æ‰‹">

<style>
:root{
  /* æ–¹æ¡ˆä¸‰ï¼šå¤§åœ°å¾©ç”¦é…è‰² */
  --primary: #C41E3A;      /* ç¶“å…¸æ˜¥è¯ç´… */
  --primary-dark: #96162C;
  --secondary: #F9E4B7;    /* æ·ºé‡‘ç‡•éº¥è‰²ï¼ˆèƒŒæ™¯å¡ç‰‡æ„Ÿï¼‰ */
  --border: #E8D5B5;
  --bg: #FFF9F0;           /* æš–ç±³è‰²åº•è‰² */

  --btn-generate: #C41E3A; /* ç´…è‰²æŒ‰éˆ• */
  --btn-copy: #AF923B;     /* äº®é‡‘æ£•è‰²ï¼ˆè²¡å¯Œæ„Ÿï¼‰ */
  --card-bg: #FBF4F4;      /* æº«æ½¤ç™½ */
}

*,*::before,*::after{ box-sizing:border-box; }

body{
  font-family:-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
  margin:0;
  padding:14px 14px 90px;
  background: var(--bg);
  display:flex;
  justify-content:center;
  color:#3D1B1Bâ€; /* æ·±ç¶ è‰²èª¿æ–‡å­— */
  overflow-x:hidden;
}

.container{
  width:100%;
  max-width:520px;
  margin-left:auto;
  margin-right:auto;
}

/* ğŸ§§ æ¨™é¡Œå¢åŠ ä¸€æœˆæ…¶ç”Ÿå…ƒç´  */
/* ğŸ§§ æ¨™é¡Œé…ç½® */
h1 { 
  text-align: center; 
  margin: 10px 0 5px; 
  font-size: 24px; 
  font-weight: 700;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px; /* èª¿æ•´æ–‡å­—èˆ‡å·¦å³åœ–ç‰‡æ˜¥è¯çš„è·é›¢ */
  color: var(--primary);
}

/* å·¦å´è‡ªè¨‚æ˜¥è¯ */
h1::before {
  content: "";
  display: block;
  width: 35px;  /* æ‚¨å¯ä»¥æ ¹æ“šåœ–ç‰‡æ¯”ä¾‹èª¿æ•´å¯¬åº¦ */
  height: 35px; /* æ‚¨å¯ä»¥æ ¹æ“šåœ–ç‰‡æ¯”ä¾‹èª¿æ•´é«˜åº¦ */
  background: url("left-fai-chun.png") no-repeat center;
  background-size: contain;
  flex-shrink: 0;
}

/* å³å´è‡ªè¨‚æ˜¥è¯ */
h1::after {
  content: "";
  display: block;
  width: 35px;  /* å¯¬åº¦å»ºè­°èˆ‡å·¦å´ä¸€è‡´ */
  height: 35px; /* é«˜åº¦å»ºè­°èˆ‡å·¦å´ä¸€è‡´ */
  background: url("right-fai-chun.png") no-repeat center;
  background-size: contain;
  flex-shrink: 0;
}

.subtitle{ text-align:center; font-size:13px; color:#3D1B1B; margin-bottom:8px; }

/* ğŸ”¹ åˆ†é æ¨™ç±¤ */
.tab-header{
  display:flex;
  gap:8px;
  margin-bottom:10px;
}

.tab-header button{
  flex:1;
  padding:8px 0;
  border-radius:20px;
  border:1px solid var(--border);
  background:#fff;
  font-size:14px;
  color: #8B4513;
  cursor: pointer;
}

.tab-header button.active{
  background:var(--primary);
  color:#fff;
  border-color:var(--primary);
}

/* ç™½è‰²å¡ç‰‡æ¨£å¼ - ç§»é™¤è–èª•å¸½èˆ‡æ§²å¯„ç”Ÿ */
.section{
  background: var(--card-bg);
  border-radius:14px;
  border:1px solid var(--border);
  padding:14px;
  margin-bottom:12px;
  overflow:visible;
  position:relative;
  box-shadow: 0 2px 8px rgba(138, 154, 91, 0.1);
}

/* ğŸ‚ å°‡å·¦ä¸Šè§’è‘‰å­æ›æˆç”Ÿæ—¥å¸½ */
.section::before {
  content: "";               /* æ¸…é™¤åŸæœ¬çš„è‘‰å­æ–‡å­— */
  position: absolute;
  top: -24px;                /* å‘ä¸Šåç§»ï¼Œè®“å¸½å­æœ‰çªå‡ºä¾†çš„æ„Ÿè¦º */
  left: 320px;               /* å‘å·¦åç§» */
  width: 100px;               /* èª¿æ•´å¸½å­å¯¬åº¦ */
  height: 100px;              /* èª¿æ•´å¸½å­é«˜åº¦ */
  background-image: url("red-envelope.png"); /* ğŸ‘ˆ é€™è£¡è«‹ç¢ºä¿æª”åæ­£ç¢º */
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  transform: rotate(0deg);  /* è¼•å¾®æ—‹è½‰è®“å¸½å­æ›´ä¿çš® */
  z-index: 10;
  opacity: 1;                /* æ¢å¾©ä¸é€æ˜åº¦ï¼Œè®“å¸½å­è‰²å½©é®®è‰· */
  pointer-events: none;
}

.section h2{ margin:0 0 8px; font-size:16px; font-weight:700; color: var(--primary-dark); }

label{ display:block;font-size:14px;margin-top:4px; color: #4A5A3B; }

input,select{
  width:100%;
  padding:10px; font-size:16px;
  margin-top:4px; margin-bottom:10px;
  border-radius:10px; border:1px solid var(--border);
  background:#fff;
  color: #333;
}

input:focus, select:focus{
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(138, 154, 91, 0.2);
}

textarea{
  width:100%; height:200px; padding:10px;
  font-size:15px; border-radius:10px;
  border:1px solid var(--border);
  background: #fff;
}

.actions{
  position:fixed;left:0;right:0;bottom:0;
  padding:10px 14px 12px;background:rgba(255,255,255,0.9);
  display:flex;gap:10px;border-top:1px solid var(--border);
  backdrop-filter:blur(10px);
  z-index:50;
}

button{
  padding:12px 0;
  border-radius:26px;
  border:none;
  font-size:16px;
  font-weight:600;
  cursor: pointer;
  transition: transform 0.1s;
}
button:active { transform: scale(0.98); }

.btn-primary{
  flex:1;
  background:var(--btn-generate);
  color:#fff;
}

.btn-secondary{
  flex:1;
  background:var(--btn-copy);
  color:#fff;
}

/* =============== ğŸƒ Leaf Animation (ä¸€æœˆç”Ÿæ©Ÿå‹•ç•«) =============== */
.leaves {
  pointer-events:none;
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  overflow:hidden;
  z-index:30;
}

.leaves span {
  position:absolute;
  top:-20px;
  display:block;
  font-size: 14px;
  animation: leafFall 10s linear infinite;
  opacity: 0;
}

@keyframes leafFall {
  0%   { transform: translate(0, 0) rotate(0deg); opacity: 0; }
  10%  { opacity: 0.8; }
  90%  { opacity: 0.8; }
  100% { transform: translate(100px, 105vh) rotate(360deg); opacity: 0; }
}

/* è‘‰ç‰‡éš¨æ©Ÿåˆ†ä½ˆèˆ‡å·®ç•°åŒ– */
.leaves span:nth-child(1){ left:10%; animation-duration: 8s; animation-delay: 0s; }
.leaves span:nth-child(2){ left:25%; animation-duration: 12s; animation-delay: 2s; }
.leaves span:nth-child(3){ left:40%; animation-duration: 10s; animation-delay: 4s; }
.leaves span:nth-child(4){ left:60%; animation-duration: 9s; animation-delay: 1s; }
.leaves span:nth-child(5){ left:80%; animation-duration: 11s; animation-delay: 5s; }
.leaves span:nth-child(6){ left:95%; animation-duration: 13s; animation-delay: 3s; }

/* ğŸ”¹ é¡¯ç¤º / éš±è—ç”¨ */
.hidden{ display:none; }

/* ğŸ”¹ ç‹€æ…‹æ¨™ç±¤å„ªåŒ– */
.badge{
  display:inline-block;
  margin-left:6px;
  padding:2px 8px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
}
.badge.green{ background:#E8F0E3; color:#4F6F41; }
.badge.yellow{ background:#FFF7E1; color:#8A6D3B; }
.badge.red{ background:#FBEAEA; color:#A94442; }

/* Huddle æ¨£å¼å¾®èª¿ */
.huddle-row{ display:flex; justify-content:space-between; align-items:center; margin-top:8px; font-size:14px; }
.huddle-separator{ height:1px; background:var(--border); margin:12px 0; opacity:0.5; }
.check-row{ display:flex; justify-content:space-between; align-items:flex-start; margin-top:10px; font-size:14px; }

/* è§’è‰²è£é£¾å®šä½ */
.footer-character {
  position: absolute;
  right: 60px;    /* å¾€å³åç§»ï¼Œç‡Ÿé€ æ¢é ­æ„Ÿ */
  bottom: 19px;   /* å¾€ä¸‹åç§»ï¼Œèˆ‡åº•éƒ¨çµåˆ */
  width: 120px;    /* æ ¹æ“šåœ–ç‰‡å¤§å°èª¿æ•´å¯¬åº¦ */
  height: auto;
  /* æ ¸å¿ƒèª¿æ•´ */
  opacity: 0.5;         /* èª¿æ•´é€æ˜åº¦ï¼š0.1 å¾ˆæ·¡ ~ 0.9 å¾ˆæ¿ƒ */
  z-index: 5;     /* ç¢ºä¿åœ¨æ–‡å­—æ¡†ä¸Šæ–¹ */
  pointer-events: none; /* é‡è¦ï¼é€™è®“ä½¿ç”¨è€…é»æ“Šåœ–ç‰‡æ™‚ï¼Œä¾ç„¶èƒ½é¸åˆ°ä¸‹æ–¹çš„æ–‡å­—æ¡† */
  filter: drop-shadow(2px 2px 5px rgba(0,0,0,0.1)); /* å¢åŠ è¼•å¾®é™°å½±æ›´æœ‰ç«‹é«”æ„Ÿ */
}

/* ç¢ºä¿çˆ¶å®¹å™¨ä¸æœƒåˆ‡æ‰è¶…å‡ºçš„è§’è‰² */
.section:last-of-type {
  overflow: visible !important;
}

/* é‡å°å°è¢å¹•å¾®èª¿ï¼Œé¿å…æ“‹ä½å¤ªå¤šæ–‡å­— */
@media (max-width: 400px) {
  .footer-character {
    width: 90px;
    right: -5px;
    bottom: -15px;
  }
}
/* å°ˆé–€é‡å°æ—¥æœŸçš„ä¿®æ”¹ */
#date {
  width: 94%; /* ä½ å¯ä»¥èª¿æ•´æˆæƒ³è¦çš„ç™¾åˆ†æ¯”æˆ–åƒç´ ï¼Œå¦‚ 200px */
  display: block; /* ç¢ºä¿å®ƒä¸æœƒè·Ÿæ¨™ç±¤æ“ åœ¨åŒä¸€è¡Œï¼Œæˆ–æ”¹æˆ inline-block ä½µæ’ */
}
</style>
</head>

<body>
<div class="container">

<h1>å°åŒ—ä¸€å€ä¸Šç­å°åŠ©æ‰‹</h1>
<p class="subtitle">è¼¸å…¥æ•¸å­— â†’ ç”¢ç”Ÿè¨Šæ¯ â†’ è¤‡è£½è²¼åˆ°ä¼æ¥­å¾®ä¿¡ç¾¤çµ„</p>

<header class="tab-header">
  <button id="tab-huddle" type="button">ä»Šæ—¥æª¢è¦–</button>
  <button id="tab-report" type="button" class="active">æ¯æ—¥å›å ±</button>
</header>

<section id="huddle-view" class="section hidden">
  <h2>ä»Šæ—¥ç›®æ¨™</h2>
  <div class="huddle-row">
    <span class="huddle-label">ä»Šæ—¥é ç´„æ•¸</span>
    <span class="huddle-value"><span id="huddleTodayBooking">-</span> ä½</span>
  </div>
  <div class="huddle-row">
    <span class="huddle-label">é‚€ç´„è©¦æˆ´ç›®æ¨™æ•¸</span>
    <span class="huddle-value"><span id="huddleTodayTrial">-</span> ä½</span>
  </div>
  <div class="huddle-separator"></div>
  <div class="huddle-row">
    <span class="huddle-label">ä»Šæ—¥å¤–æ’¥ç›®æ¨™æ•¸</span>
    <span class="huddle-value"><span id="huddleTodayCallTotal">-</span> é€š</span>
  </div>
  <div class="huddle-row">
    <span class="huddle-label">é‚€ç´„å›åº—ç›®æ¨™æ•¸</span>
    <span class="huddle-value"><span id="huddleTodayOld3Y">-</span> ä½</span>
  </div>
  <div class="huddle-separator"></div>
  <h2>æ˜¨æ—¥åŸ·è¡Œæª¢è¦–</h2>
  <div class="check-row">
    <span class="check-label">è©¦æˆ´æ•¸</span>
    <span class="check-value" id="checkTrialText">-</span>
  </div>
  <div class="check-row">
    <span class="check-label">å¤–æ’¥é€šæ•¸</span>
    <span class="check-value" id="checkCallText">-</span>
  </div>
  <div class="check-row">
    <span class="check-label">é‚€ç´„å›åº—æ•¸</span>
    <span class="check-value" id="checkInviteText">-</span>
  </div>
  <div class="check-row">
    <span class="check-label">é‚€ç´„æˆåŠŸç‡</span>
    <span class="check-value">
      <span id="checkInviteRateText">-</span>
      <span class="badge" id="checkInviteRateBadge" style="display:none;"></span>
    </span>
  </div>
</section>

<div id="report-view">
  <div class="section">
  <h2>åŸºæœ¬è³‡è¨Š</h2>
  <label>æ—¥æœŸï¼š <input type="date" id="date"></label>
  <label>åº—åï¼š <input type="text" id="store" placeholder="ä¾‹ï¼šç«™å‰"></label>
  <label>å§“åï¼š
  <select id="name">
    <option value="">è«‹é¸æ“‡åŒä»å§“å</option>
    <option>éƒ­å­Ÿé‘«</option><option>é™³è©©æ½”</option><option>æ¸¸ç‘Ÿç„„</option>
    <option>é­é æ©</option><option>æå­Ÿé¦¨</option><option>åŠ‰ç‘‹å©·</option>
    <option>å‘¨æ›‰ç„</option><option>è•­ç´”è¿</option><option>é™³å®›å¦¤</option>
    <option>æ—å¯“è‘³</option><option>å³æ¬£ç®</option><option>å‘‚æ¡‚æ¢…</option>
    <option>æä¿Šè«º</option><option>è”¡ç§‰å¿»</option>
  </select>
  </label>
  </div>

  <div class="section">
  <h2>1. ä»Šæ—¥å¤–æ’¥</h2>
  <label>æ½›å®¢å¤–æ’¥é€šæ•¸ï¼š<input type="number" id="todayCallPotential" inputmode="numeric" oninput="recalcTotals()"></label>
  <label>éä¿èˆŠå®¢å¤–æ’¥é€šæ•¸ï¼š<input type="number" id="todayCallOld3Y" inputmode="numeric" oninput="recalcTotals()"></label>
  <label>ä»Šæ—¥å¤–æ’¥ç¸½é€šæ•¸ï¼š<input type="number" id="todayCallTotal" readonly></label>
  <label>æˆåŠŸé‚€ç´„å›åº—äººæ•¸ï¼š<input type="number" id="todayInviteReturn" inputmode="numeric"></label>
  </div>

  <div class="section">
  <h2>2. ä»Šæ—¥é ç´„</h2>
  <label>ä»Šæ—¥é ç´„ç¸½æ•¸ï¼š<input type="number" id="todayBookingTotal" inputmode="numeric"></label>
  <div id="todayBookingHint" style="font-size:12px;color:#6A7A5B;margin-top:4px;display:none;">
    ï¼ˆå·²å¸¶å…¥æ˜¨æ—¥å¡«å¯«çš„ã€Œæ˜æ—¥å·²æ’é ç´„ã€ï¼š<span id="todayBookingHintValue"></span> ä½ï¼‰
  </div>
  </div>

  <div class="section">
  <h2>3. ä»Šæ—¥åˆ°åº—</h2>
  <label>ä»Šæ—¥åˆ°åº—ç¸½æ•¸ï¼š<input type="number" id="todayVisitTotal" inputmode="numeric"></label>
  <label>è©¦ç”¨ HAï¼š<input type="number" id="trialHA" inputmode="numeric"></label>
  <label>è©¦ç”¨ APAPï¼š<input type="number" id="trialAPAP" inputmode="numeric"></label>
  <label>æˆäº¤ HAï¼š<input type="number" id="dealHA" inputmode="numeric"></label>
  <label>æˆäº¤ APAPï¼š<input type="number" id="dealAPAP" inputmode="numeric"></label>
  </div>

  <div class="section">
  <h2>4. æ˜æ—¥å·²æ’é ç´„</h2>
  <label>æ˜æ—¥é ç´„ç¸½æ•¸ï¼š<input type="number" id="tomorrowBookingTotal" inputmode="numeric"></label>
  </div>

  <div class="section">
  <h2>5. æ˜æ—¥ KPI</h2>
  <label>å¤–æ’¥ç›®æ¨™é€šæ•¸ï¼š<input type="number" id="tomorrowKpiCallTotal" inputmode="numeric"></label>
  <label>é‚€ç´„å›åº—ç›®æ¨™æ•¸ (ä½)ï¼š<input type="number" id="tomorrowKpiCallOld3Y" inputmode="numeric"></label>
  <label>å®ŒæˆHA/APAPè©¦æˆ´ç›®æ¨™ (ä½)ï¼š<input type="number" id="tomorrowKpiTrial" inputmode="numeric"></label>
  </div>

  <div class="section">
  <textarea id="output" placeholder="æŒ‰ä¸‹ã€ç”¢ç”Ÿè¨Šæ¯ã€å¾Œæ–‡å­—æœƒå‡ºç¾åœ¨é€™è£¡"></textarea>
  
  <img src="new-year-character.png" class="footer-character" alt="decoration">
  </div>
</div>

</div>

<div class="actions">
<button class="btn-primary" onclick="generateMessage()">ğŸ’° ç”¢ç”Ÿè¨Šæ¯</button>
<button class="btn-secondary" onclick="copyMessage()">ğŸ® è¤‡è£½æ–‡å­—</button>
</div>

<div class="leaves">
  <span>ğŸ§§</span><span>ğŸ’°</span><span>ğŸ§§</span><span>âœ¨</span><span>ğŸ§¨</span><span>ğŸ§§</span>
</div>

<script src="app.js?v=14"></script>

</body>
</html>
