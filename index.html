<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>科林門市每日回報</title>

<link rel="manifest" href="manifest.json">

<link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
<link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="科林每日回報">

<style>
:root{
  --primary:#f4a300;
  --border:#e0e0e0;
  --bg:#f6f6f8;

}

*,*::before,*::after{ box-sizing:border-box; }

body{
  font-family:-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
  margin:0;
  padding:14px 14px 90px;
  background:var(--bg);
  display:flex;
  justify-content:center;
  color:#111;
}

.container{ width:100%; max-width:520px; }

h1{ text-align:center; margin:6px 0 2px; font-size:22px; font-weight:700; }
.subtitle{ text-align:center; font-size:13px; color:#777; margin-bottom:12px; }

.section{
  background:#fff; border-radius:14px; border:1px solid var(--border);
  padding:14px; margin-bottom:12px; overflow:hidden;
}
.section h2{ margin:0 0 8px; font-size:16px; font-weight:700; }

label{ display:block;font-size:14px;margin-top:4px; }

input,select{
  width:100%;
  padding:10px; font-size:16px;
  margin-top:4px; margin-bottom:10px;
  border-radius:10px; border:1px solid var(--border);
  background:#fff;
}

/* 日期欄避免 iOS 變形 */
input[type="date"]{
  width:94%;
  margin:auto;
  display:block;
}

input[readonly]{ background:#f3f3f3; }

textarea{
  width:100%; height:200px; padding:10px;
  font-size:15px; border-radius:10px;
  border:1px solid var(--border);
}

.actions{
  position:fixed;left:0;right:0;bottom:0;
  padding:10px 14px 12px;background:#ffffffee;
  display:flex;gap:10px;border-top:1px solid var(--border);
  backdrop-filter:blur(6px);
}

button{
  flex:1;
  padding:12px 0;
  border-radius:26px;
  border:none;
  font-size:16px;
  font-weight:600;
}

/* 產生訊息 */
.btn-primary{
  background:var(--btn-generate);
  color:#fff;
  border:1px solid var(--btn-generate);
}

/* 複製文字 */
.btn-secondary{
  background:var(--btn-copy);
  color:#fff;
  border:1px solid var(--btn-copy);
}

</style>
</head>

<body>
<div class="container">

<h1>科林門市每日回報</h1>
<p class="subtitle">輸入數字 → 產生訊息 → 貼到企業微信群組</p>

<div class="section">
<h2>基本資訊</h2>
<label>日期： <input type="date" id="date"></label>
<label>店名： <input type="text" id="store" placeholder="例：站前"></label>
<label>姓名：
<select id="name">
<option value="">請選擇同仁姓名</option>
<option>郭孟鑫</option><option>陳詩潔</option><option>游瑟焄</option>
<option>魏頎恩</option><option>李孟馨</option><option>劉瑋婷</option>
<option>林瑀婕</option><option>周曉玄</option><option>蕭純聿</option>
<option>陳宛妤</option><option>王靖雅</option><option>林寓葳</option>
<option>吳欣珮</option><option>呂桂梅</option>
</select>
</label>
</div>

<div class="section">
<h2>1. 今日外撥</h2>
<label>潛客外撥通數：<input type="number" id="todayCallPotential" inputmode="numeric" oninput="recalcTotals()"></label>
<label>過保舊客外撥通數：<input type="number" id="todayCallOld3Y" inputmode="numeric" oninput="recalcTotals()"></label>
<label>今日外撥總通數：<input type="number" id="todayCallTotal" readonly></label>
</div>

<div class="section">
<h2>2. 今日預約</h2>
<label>今日預約總數：<input type="number" id="todayBookingTotal" inputmode="numeric"></label>
</div>

<div class="section">
<h2>3. 今日到店</h2>
<label>今日到店總數：<input type="number" id="todayVisitTotal" inputmode="numeric"></label>
<label>試用 HA：<input type="number" id="trialHA" inputmode="numeric"></label>
<label>試用 APAP：<input type="number" id="trialAPAP" inputmode="numeric"></label>
<label>成交 HA：<input type="number" id="dealHA" inputmode="numeric"></label>
<label>成交 APAP：<input type="number" id="dealAPAP" inputmode="numeric"></label>
</div>

<div class="section">
<h2>4. 明日已排預約</h2>
<label>明日預約總數：<input type="number" id="tomorrowBookingTotal" inputmode="numeric"></label>
</div>

<div class="section">
<h2>5. 明日 KPI</h2>
<label>外撥目標通數：<input type="number" id="tomorrowKpiCallTotal" inputmode="numeric"></label>
<label>舊客預約目標 (位)：<input type="number" id="tomorrowKpiCallOld3Y" inputmode="numeric"></label>
<label>完成HA/APAP試戴目標 (位)：<input type="number" id="tomorrowKpiTrial" inputmode="numeric"></label>
</div>

<div class="section">
<textarea id="output" placeholder="按下『產生訊息』後文字會出現在這裡"></textarea>
</div>

</div>

<div class="actions">
<button class="btn-primary" onclick="generateMessage()">產生訊息</button>
<button class="btn-secondary" onclick="copyMessage()">複製文字</button>
</div>

<script>
document.addEventListener("DOMContentLoaded",()=>{
 let d=new Date(),m=("0"+(d.getMonth()+1)).slice(-2),day=("0"+d.getDate()).slice(-2);
 document.getElementById("date").value=`${d.getFullYear()}-${m}-${day}`;
});

function getNum(id){ return parseInt(document.getElementById(id).value||0) }
function recalcTotals(){
 document.getElementById("todayCallTotal").value=getNum("todayCallPotential")+getNum("todayCallOld3Y")||"";
}

function generateMessage(){
const d=document.getElementById("date").value.replace(/-/g,"/");
const s=document.getElementById("store").value||"門市";
const n=document.getElementById("name").value||"姓名";

document.getElementById("output").value=
`${d}｜${s} ${n}
1. 今日外撥：${getNum("todayCallTotal")} 通（潛在 ${getNum("todayCallPotential")} 通、過保舊客 ${getNum("todayCallOld3Y")} 通）
2. 今日預約：${getNum("todayBookingTotal")} 位
3. 今日到店：${getNum("todayVisitTotal")} 位
   試用：HA ${getNum("trialHA")} 位、APAP ${getNum("trialAPAP")} 位
   成交：HA ${getNum("dealHA")} 位、APAP ${getNum("dealAPAP")} 位
4. 明日已排預約：${getNum("tomorrowBookingTotal")} 位
5. 明日KPI:
   外撥 ${getNum("tomorrowKpiCallTotal")} 通
   舊客預約 ${getNum("tomorrowKpiCallOld3Y")} 位
   完成試戴 ${getNum("tomorrowKpiTrial")} 位`;
}

function copyMessage(){
const o=document.getElementById("output");
o.select();o.setSelectionRange(0,99999);
document.execCommand("copy");
alert("已複製，前往企業微信貼上即可！");
}
</script>
</body>
</html>
